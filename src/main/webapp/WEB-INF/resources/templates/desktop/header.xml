<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:r="http://richfaces.org">

<!--
 * Copyright (C) 2013 Juergen Zimmermann, Hochschule Karlsruhe
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

	<r:toolbar id="headerToolbar" height="65px" style="border: none;">
    	<a jsf:id="homeLink" jsf:outcome="/rf/index?cid=#{javax.enterprise.context.conversation.id}">
			<img jsf:id="homeLogo" jsf:name="hs-logo.gif" jsf:library="images" alt="#{msg['header.logo.alt']}"/>
		</a>

		<!-- dropDownMenu mit einem Formular mit Eingabefeldern wird nicht mehr unterstuetzt --> 
		<form jsf:id="schnellsucheForm" jsf:prependId="false">
			<r:dropDownMenu id="schnellsucheMenu">
				<f:facet name="label">
					#{msg['header.schnellsuche']}
				</f:facet>

				<r:menuItem id="schnellsucheItem">
					<h:panelGrid id="schnellsucheGrid" columns="3">
						<label id="artikelBezLabel" for="artikelBezeichnungHeader">
							#{msg['header.schnellsuche.artikelBezeichnung']}
						</label>
						<input jsf:id="artikelBezeichnungHeader" type="text" jsf:value="#{artikelModel.bezeichnung}"/>
						<input jsf:id="artikelButton" type="submit" jsf:action="#{artikelModel.findArtikelByBezeichnung}" value="#{msg['header.schnellsuche.button']}"/>
					</h:panelGrid>
				</r:menuItem>
			</r:dropDownMenu>
		</form>
				
		<r:toolbarGroup id="rightGroup" location="right">
			<form jsf:id="loginFormHeader" jsf:prependId="false" jsf:rendered="#{not authModel.loggedIn}">
				<h:panelGrid id="loginGridHeader" columns="3">
					<label jsf:id="usernameLabelHeader" for="usernameHeader">
						#{msg['login.kundeId']}
					</label>
					<input jsf:id="usernameHeader" type="text" jsf:value="#{authModel.username}" tabindex="1"/>
					<a jsf:id="registrieren" jsf:outcome="/rf/kundenverwaltung/registrierePrivatkunde?cid=#{javax.enterprise.context.conversation.id}"
					   tabindex="4" class="label-shop">
						#{msg['header.registrierePrivatkunde']}
					</a>
							
					<label id="passwordLabelHeader" for="passwordHeader">
						#{msg['login.password']}
					</label>
					<input jsf:id="passwordHeader" type="password" jsf:value="#{authModel.password}" tabindex="2"/>
					<r:commandButton id="loginButtonHeader" action="#{authModel.login}" value="#{msg['login.submit']}"
					                 render="headerToolbar navForm" tabindex="3"/>
				</h:panelGrid>
				<r:message id="fehlermeldungLogin" for="usernameHeader"/>
			</form>

			<form jsf:id="spracheForm" jsf:prependId="false">
				<r:dropDownMenu id="sprache">
					<f:facet name="label">
						#{msg['header.sprache']}
					</f:facet>
					
					<r:menuItem id="englisch"
					            label="#{msg['header.sprache.englisch']}"
					            actionListener="#{sprache.change('en')}"/>
					<r:menuItem id="deutsch"
					            label="#{msg['header.sprache.deutsch']}"
					            actionListener="#{sprache.change('de')}"/>
				</r:dropDownMenu>
			</form>

			<form jsf:id="skinForm" jsf:prependId="false">
				<r:dropDownMenu id="skin">
					<f:facet name="label">
						#{msg['header.skin']}
					</f:facet>
					
					<r:menuItem id="blueSky"
					            label="#{msg['header.skin.blueSky']}"
					            actionListener="#{skin.change('blueSky')}"/>
					<r:menuItem id="deepMarine"
					            label="#{msg['header.skin.deepMarine']}"
					            actionListener="#{skin.change('deepMarine')}"/>
					<r:menuSeparator/>
					
					<r:menuItem id="japanCherry"
					            label="#{msg['header.skin.japanCherry']}"
					            actionListener="#{skin.change('japanCherry')}"/>
					<r:menuItem id="ruby"
					            label="#{msg['header.skin.ruby']}"
					            actionListener="#{skin.change('ruby')}"/>
					<r:menuSeparator/>
					
					<r:menuItem id="wine"
					            label="#{msg['header.skin.wine']}"
					            actionListener="#{skin.change('wine')}"/>
					<r:menuItem id="emeraldTown"
					            label="#{msg['header.skin.emeraldTown']}"
					            actionListener="#{skin.change('emeraldTown')}"/>
				</r:dropDownMenu>
			</form>
			
			<form jsf:id="warenkorbFormHeader" jsf:prependId="false">
				<r:dropDownMenu id="warenkorbHeader">
					<f:facet name="label">
						<img jsf:id="warenkorbImageHeader" jsf:name="warenkorb.gif" jsf:library="images" alt="#{msg['header.warenkorb.alt']}"/>
					</f:facet>
					
					<r:menuItem id="warenkorbItemEmptyHeader" label="#{msg['header.warenkorb.empty']}" rendered="#{empty warenkorb.positionen}"/>
					
					<r:menuItem id="warenkorbItemHeader" rendered="#{not empty warenkorb.positionen}">
						<r:dataTable id="warenkorbTabelleHeadeer"
						             value="#{warenkorb.positionen}"
						             var="position"
						             rowClasses="odd-row, even-row"
						             styleClass="tabelleMitZebrastil">
							<r:column id="artikelIdSpalteHeader">
								<f:facet name="header">
									#{msgBv['viewWarenkorb.artikel.id']}
								</f:facet>
								#{position.artikel.id}
							</r:column>
								
							<r:column id="bezeichnungSpalteHeader">
								<f:facet name="header">
									#{msgBv['viewWarenkorb.artikel.bezeichnung']}
								</f:facet>
								#{position.artikel.bezeichnung}
							</r:column>
					
							<r:column id="anzahlSpalteHeader">
								<f:facet name="header">
									#{msgBv['viewWarenkorb.anzahl']}
								</f:facet>
								
								<r:inputNumberSpinner id="anzahl"
				                                      value="#{position.anzahl}"
				                                      minValue="0"
				                                      maxValue="99"
				                                      inputSize="2"/>
							</r:column>
							
							<r:column id="preisSpalteHeader">
								<f:facet name="header">
									#{msgBv['viewWarenkorb.preis']}
								</f:facet>
								<h:outputText id="preis" value="#{position.artikel.preis}">
									<f:convertNumber type="currency" currencyCode="EUR" maxFractionDigits="2" minFractionDigits="2"/>
								</h:outputText>
							</r:column>
							
							<r:column id="deleteSpalteHeader">
								<a jsf:id="deleteLink" jsf:action="#{warenkorb.remove(position)}" alt="#{msgBv['viewWarenkorb.deleteButtonAlt']}">
									<img jsf:id="deleteIcon" jsf:name="delete.gif" jsf:library="images"/>
								</a>
							</r:column>
						</r:dataTable>
						
						<ez:zebrastil id="zebrastilHeader"/>
						
						<p id="buttonsWarenkorbHeader">
							<input jsf:id="updateButtonHeader" type="submit" jsf:action="#" value="#{msgBv['viewWarenkorb.update']}"/>
							#{' '}
							<input id="resetButtonHeader" type="reset" value="#{msgBv['viewWarenkorb.reset']}"/>
							#{' '}
							<input jsf:id="bestellButtonHeader" type="submit"
								   jsf:action="/rf/bestellverwaltung/confirmBestellung"
								   value="#{msgBv['viewWarenkorb.bestellen']}"
								   jsf:rendered="#{authModel.loggedIn}"/>
							<r:message id="bestellButtonFehlermeldung" for="bestellButton"/>
						</p>
					</r:menuItem>
				</r:dropDownMenu>
			</form>
			
			<form jsf:id="kontoForm" jsf:prependId="false" jsf:rendered="#{authModel.loggedIn}">
				<r:dropDownMenu id="kontoMenu">
					<f:facet name="label">
						#{msg['header.meinKonto']}
					</f:facet>
					
					<r:menuItem id="loginInfo"
								label="#{authModel.user.vorname} #{authModel.user.nachname}"/>
					
					<r:menuSeparator/>
					
					<r:menuItem id="einstellungen"
					            label="#{msg['header.einstellungen']}"
					            action="#{kundeModel.editUser}"/>
					
					<r:menuItem id="logout"
					            label="#{msg['header.logout']}"
					            action="#{authModel.logout}"/>
				</r:dropDownMenu>
			</form>
		</r:toolbarGroup>
		
	</r:toolbar>
</ui:composition>
