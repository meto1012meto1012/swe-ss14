<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:jsf="http://xmlns.jcp.org/jsf"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:r="http://richfaces.org">
<!--
 * Copyright (C) 2013 Juergen Zimmermann, Hochschule Karlsruhe
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

	<body>
		<ui:composition template="/WEB-INF/resources/templates/desktop/shop.xml">
			<ui:param name="pageTitle" value="#{msgKv['upload.title']}"/>
		
			<ui:define name="main">
				<h1>#{msgKv['upload.heading']}</h1>
				
				<form jsf:id="uploadForm" jsf:prependId="false">
					<h:panelGrid id="uploadFormGrid" columns="2">
						<label id="idLabel" for="kundeId">#{msgKv['upload.id.prompt']}</label>
						<span jsf:id="kundeIdGroup">
							<input jsf:id="kundeId" type="text" autofocus="autofocus" jsf:value="#{fileUploadKunde.kundeId}"/>
							<r:messages id="kundeIdMessages" for="kundeId"/>
						</span>
			
						<label id="dateiLabel" for="datei">#{msgKv['upload.datei.prompt']}</label>
						<r:fileUpload id="datei"
								      fileUploadListener="#{fileUploadKunde.uploadListener}" 
								      maxFilesQuantity="1"
								      acceptedTypes="#{fileHelper.extensionen}"
								      listHeight="65px"
								      immediateUpload="true"
								      ontyperejected="return confirm('#{msgKv['upload.datei.falscheExtension']}')"
								      sizeExceededLabel="#{msgKv['upload.datei.zugross']}"
								      addLabel="#{msgKv['upload.datei.add']}"
								      doneLabel="#{msgKv['upload.datei.done']}"
								      uploadLabel="#{msgKv['upload.datei.upload']}"
								      clearLabel="#{msgKv['upload.datei.clear']}"
								      clearAllLabel="#{msgKv['upload.datei.clearAll']}"
								      deleteLabel="#{msgKv['upload.datei.delete']}"
								      serverErrorLabel="#{msgKv['upload.datei.serverError']}">
							<!-- FIXME https://issues.jboss.org/browse/RF-13539 -->
							<f:facet name="progress">
								<r:progressBar id="progressBarUpload" style="width: 100%;"/>
							</f:facet>
							<f:facet name="label">
								#{msgKv['upload.progressBar.label']}
							</f:facet>
						</r:fileUpload>
		
						<r:messages id="dateiMessages" for="datei"/>
						<f:verbatim/>
					</h:panelGrid>
		
					<p id="buttons">
						<input jsf:id="uploadSubmit" type="submit" jsf:action="#{fileUploadKunde.upload}" value="#{msgKv['upload.submit']}"/>
						#{' '}
						<input jsf:id="uploadReset" type="submit" jsf:action="#{fileUploadKunde.resetUpload}" value="#{msgKv['upload.reset']}"/>
					</p>
				</form>
			</ui:define>
		</ui:composition>
	</body>
</html>
